---
// src/components/ClientScripts.astro
interface Props {
  isAuth?: boolean;
}

const { isAuth = false } = Astro.props;
---

<script type="module" define:vars={{ isAuth }}>
  import { initThemeSystem } from '/src/scripts/theme.ts';
  import { initToastSystem } from '/src/scripts/toast.ts';
  
  // Always load theme and toast
  window.initThemeSystem = initThemeSystem;
  window.initToastSystem = initToastSystem;
  
  initThemeSystem();
  initToastSystem();

  // Always load URL processor (might be needed on auth pages too)
  const { processURLDataAndSave } = await import('/src/scripts/urlProcessor.ts');
  window.processURLDataAndSave = processURLDataAndSave;

  // Only load Clerk redirect for non-auth pages (to redirect away from auth pages)
  if (!isAuth) {
    const { initClerkRedirect } = await import('/src/scripts/clerkRedirect.ts');
    window.initClerkRedirect = initClerkRedirect;
    initClerkRedirect();
  }
</script>