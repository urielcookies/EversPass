---
// src/components/ClientScripts.astro
interface Props {
  isAuth?: boolean;
}

const { isAuth = false } = Astro.props;
---

<script type="module" define:vars={{ isAuth }}>
  import { initThemeSystem } from '@/scripts/theme';
  import { initToastSystem } from '@/scripts/toast';
  
  // Always load theme and toast
  window.initThemeSystem = initThemeSystem;
  window.initToastSystem = initToastSystem;
  
  initThemeSystem();
  initToastSystem();

  // Load auth-related scripts only for non-auth pages
  if (!isAuth) {
    const { initClerkRedirect } = await import('@/scripts/clerkRedirect');
    const { processURLDataAndSave } = await import('@/scripts/urlProcessor');
    
    window.initClerkRedirect = initClerkRedirect;
    window.processURLDataAndSave = processURLDataAndSave;
    
    initClerkRedirect();
  }
</script>